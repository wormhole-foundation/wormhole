kind: Job
apiVersion: batch/v1
metadata:
  name: tests
spec:
  template:
    spec:
      containers:
        - name: tests
          image: tests-image
          command:
            - /bin/sh
            - -c
            - "/app/testing/allTests.sh"
      restartPolicy: Never
  backoffLimit: 1
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   name: tests
#   labels:
#     app: tests
# spec:
#   ports:
#     - port: 8002
#       name: http
#       protocol: TCP
#   clusterIP: None
#   selector:
#     app: tests
# ---
# apiVersion: apps/v1
# kind: StatefulSet
# metadata:
#   name: tests
# spec:
#   selector:
#     matchLabels:
#       app: tests
#   serviceName: tests
#   replicas: 1
#   template:
#     metadata:
#       labels:
#         app: tests
#     spec:
#       terminationGracePeriodSeconds: 1
#       containers:
#         - name: tests
#           image: tests
#           command:
#             - /bin/sh
#             - -c
#             - "/app/testing/allTests.sh"
#           readinessProbe:
#             periodSeconds: 1
#             failureThreshold: 300
#             tcpSocket:
#               port: 2000
